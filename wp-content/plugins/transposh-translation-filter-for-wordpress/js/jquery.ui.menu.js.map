{"version":3,"sources":["jquery.ui.menu.js"],"names":["$","idIncrement","widget","_create","self","this","menuId","element","attr","addClass","id","role","bind","event","options","disabled","target","closest","length","preventDefault","select","parent","activate","deactivate","refresh","input","keyCode","ui","PAGE_UP","previousPage","stopImmediatePropagation","PAGE_DOWN","nextPage","UP","previous","DOWN","next","ENTER","destroy","Widget","prototype","apply","arguments","removeClass","removeAttr","children","unbind","item","_hasScroll","borderTop","parseFloat","curCSS","paddingtop","offset","top","scroll","elementHeight","height","itemHeight","active","first","index","itemId","end","_trigger","_move","prevAll","last","nextAll","direction","edge","filter","eq","result","base","each","jQuery"],"mappings":"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","sourcesContent":["/*\n * jQuery UI Menu @VERSION\n * \n * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Menu\n *\n * Depends:\n *\tjquery.ui.core.js\n *\tjquery.ui.widget.js\n */\n(function($) {\n\t\nvar idIncrement = 0;\n\n$.widget(\"ui.menu\", {\n\t_create: function() {\n\t\tvar self = this;\n\t\tthis.menuId = this.element.attr( \"id\" ) || \"ui-menu-\" + idIncrement++;\n\t\tthis.element\n\t\t\t.addClass( \"ui-menu ui-widget ui-widget-content ui-corner-all\" )\n\t\t\t.attr({\n\t\t\t\tid: this.menuId,\n\t\t\t\trole: \"listbox\"\n\t\t\t})\n\t\t\t.bind( \"click.menu\", function( event ) {\n\t\t\t\tif ( self.options.disabled ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif ( !$( event.target ).closest( \".ui-menu-item a\" ).length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// temporary\n\t\t\t\tevent.preventDefault();\n\t\t\t\tself.select( event );\n\t\t\t})\n\t\t\t.bind( \"mouseover.menu\", function( event ) {\n\t\t\t\tif ( self.options.disabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar target = $( event.target ).closest( \".ui-menu-item\" );\n\t\t\t\tif ( target.length && target.parent()[0] === self.element[0] ) {\n\t\t\t\t\tself.activate( event, target );\n\t\t\t\t}\n\t\t\t})\n\t\t\t.bind(\"mouseout.menu\", function( event ) {\n\t\t\t\tif ( self.options.disabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar target = $( event.target ).closest( \".ui-menu-item\" );\n\t\t\t\tif ( target.length && target.parent()[0] === self.element[0] ) {\n\t\t\t\t\tself.deactivate( event );\n\t\t\t\t}\n\t\t\t});\n\t\tthis.refresh();\n\t\t\n\t\tif ( !this.options.input ) {\n\t\t\tthis.options.input = this.element.attr( \"tabIndex\", 0 );\n\t\t}\n\t\tthis.options.input.bind( \"keydown.menu\", function( event ) {\n\t\t\tif ( self.options.disabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tswitch ( event.keyCode ) {\n\t\t\tcase $.ui.keyCode.PAGE_UP:\n\t\t\t\tself.previousPage();\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\tbreak;\n\t\t\tcase $.ui.keyCode.PAGE_DOWN:\n\t\t\t\tself.nextPage();\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\tbreak;\n\t\t\tcase $.ui.keyCode.UP:\n\t\t\t\tself.previous();\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\tbreak;\n\t\t\tcase $.ui.keyCode.DOWN:\n\t\t\t\tself.next();\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\tbreak;\n\t\t\tcase $.ui.keyCode.ENTER:\n\t\t\t\tself.select();\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t},\n\t\n\tdestroy: function() {\n\t\t$.Widget.prototype.destroy.apply( this, arguments );\n\t\t\n\t\tthis.element\n\t\t\t.removeClass( \"ui-menu ui-widget ui-widget-content ui-corner-all\" )\n\t\t\t.removeAttr( \"tabIndex\" )\n\t\t\t.removeAttr( \"role\" )\n\t\t\t.removeAttr( \"aria-activedescendant\" );\n\t\t\n\t\tthis.element.children( \".ui-menu-item\" )\n\t\t\t.removeClass( \"ui-menu-item\" )\n\t\t\t.removeAttr( \"role\" )\n\t\t\t.children( \"a\" )\n\t\t\t.removeClass( \"ui-corner-all\" )\n\t\t\t.removeAttr( \"tabIndex\" )\n\t\t\t.unbind( \".menu\" );\n\t},\n\t\n\trefresh: function() {\n\t\t// don't refresh list items that are already adapted\n\t\tvar items = this.element.children( \"li:not(.ui-menu-item):has(a)\" )\n\t\t\t.addClass( \"ui-menu-item\" )\n\t\t\t.attr( \"role\", \"menuitem\" );\n\t\t\n\t\titems.children( \"a\" )\n\t\t\t.addClass( \"ui-corner-all\" )\n\t\t\t.attr( \"tabIndex\", -1 );\n\t},\n\n\tactivate: function( event, item ) {\n\t\tvar self = this;\n\t\tthis.deactivate();\n\t\tif ( this._hasScroll() ) {\n\t\t\tvar borderTop = parseFloat( $.curCSS( this.element[0], \"borderTopWidth\", true) ) || 0,\n\t\t\t\tpaddingtop = parseFloat( $.curCSS( this.element[0], \"paddingTop\", true) ) || 0,\n\t\t\t\toffset = item.offset().top - this.element.offset().top - borderTop - paddingtop,\n\t\t\t\tscroll = this.element.attr( \"scrollTop\" ),\n\t\t\t\telementHeight = this.element.height(),\n\t\t\t\titemHeight = item.height();\n\t\t\tif ( offset < 0 ) {\n\t\t\t\tthis.element.attr( \"scrollTop\", scroll + offset );\n\t\t\t} else if ( offset + itemHeight > elementHeight ) {\n\t\t\t\tthis.element.attr( \"scrollTop\", scroll + offset - elementHeight + itemHeight );\n\t\t\t}\n\t\t}\n\t\tthis.active = item.first()\n\t\t\t.children( \"a\" )\n\t\t\t\t.addClass( \"ui-state-hover\" )\n\t\t\t\t.attr( \"id\", function(index, id) {\n\t\t\t\t\treturn (self.itemId = id || self.menuId + \"-activedescendant\");\n\t\t\t\t})\n\t\t\t.end();\n\t\t// need to remove the attribute before adding it for the screenreader to pick up the change\n\t\t// see http://groups.google.com/group/jquery-a11y/msg/929e0c1e8c5efc8f\n\t\tthis.element.removeAttr(\"aria-activedescenant\").attr(\"aria-activedescenant\", self.itemId);\n\t\tthis._trigger( \"focus\", event, { item: item } );\n\t},\n\n\tdeactivate: function(event) {\n\t\tif (!this.active) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar self = this;\n\t\tthis.active.children( \"a\" ).removeClass( \"ui-state-hover\" );\n\t\t// remove only generated id\n\t\t$( \"#\" + self.menuId + \"-activedescendant\" ).removeAttr( \"id\" );\n\t\tthis.element.removeAttr( \"aria-activedescenant\" );\n\t\tthis._trigger( \"blur\", event );\n\t\tthis.active = null;\n\t},\n\n\tnext: function(event) {\n\t\tthis._move( \"next\", \".ui-menu-item\", \"first\", event );\n\t},\n\n\tprevious: function(event) {\n\t\tthis._move( \"prev\", \".ui-menu-item\", \"last\", event );\n\t},\n\n\tfirst: function() {\n\t\treturn this.active && !this.active.prevAll( \".ui-menu-item\" ).length;\n\t},\n\n\tlast: function() {\n\t\treturn this.active && !this.active.nextAll( \".ui-menu-item\" ).length;\n\t},\n\n\t_move: function(direction, edge, filter, event) {\n\t\tif ( !this.active ) {\n\t\t\tthis.activate( event, this.element.children(edge)[filter]() );\n\t\t\treturn;\n\t\t}\n\t\tvar next = this.active[ direction + \"All\" ]( \".ui-menu-item\" ).eq( 0 );\n\t\tif ( next.length ) {\n\t\t\tthis.activate( event, next );\n\t\t} else {\n\t\t\tthis.activate( event, this.element.children(edge)[filter]() );\n\t\t}\n\t},\n\t\n\tnextPage: function( event ) {\n\t\tif ( this._hasScroll() ) {\n\t\t\tif ( !this.active || this.last() ) {\n\t\t\t\tthis.activate( event, this.element.children( \".ui-menu-item\" ).first() );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar base = this.active.offset().top,\n\t\t\t\theight = this.element.height(),\n\t\t\t\tresult;\n\t\t\tthis.active.nextAll( \".ui-menu-item\" ).each( function() {\n\t\t\t\tresult = $( this );\n\t\t\t\treturn $( this ).offset().top - base - height < 0;\n\t\t\t});\n\n\t\t\tthis.activate( event, result );\n\t\t} else {\n\t\t\tthis.activate( event, this.element.children( \".ui-menu-item\" )\n\t\t\t\t[ !this.active || this.last() ? \"first\" : \"last\" ]() );\n\t\t}\n\t},\n\n\tpreviousPage: function( event ) {\n\t\tif ( this._hasScroll() ) {\n\t\t\tif ( !this.active || this.first() ) {\n\t\t\t\tthis.activate( event, this.element.children( \".ui-menu-item\" ).last() );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar base = this.active.offset().top,\n\t\t\t\theight = this.element.height(),\n\t\t\t\tresult;\n\t\t\tthis.active.prevAll( \".ui-menu-item\" ).each( function() {\n\t\t\t\tresult = $( this );\n\t\t\t\treturn $(this).offset().top - base + height > 0;\n\t\t\t});\n\n\t\t\tthis.activate( event, result );\n\t\t} else {\n\t\t\tthis.activate( event, this.element.children( \".ui-menu-item\" )\n\t\t\t\t[ !this.active || this.first() ? \":last\" : \":first\" ]() );\n\t\t}\n\t},\n\n\t_hasScroll: function() {\n\t\treturn this.element.height() < this.element.attr( \"scrollHeight\" );\n\t},\n\n\tselect: function( event ) {\n\t\tthis._trigger( \"select\", event, { item: this.active } );\n\t}\n});\n\n}( jQuery ));\n"]}