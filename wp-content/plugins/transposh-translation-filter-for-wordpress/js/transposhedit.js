!function(r){var c={en:"English - English",af:"Afrikaans - Afrikaans",sq:"Albanian - Shqip",ar:"Arabic - العربية",hy:"Armenian - Հայերեն",az:"Azerbaijani - azərbaycan dili",eu:"Basque - Euskara",ba:"Bashkir - башҡорт теле",be:"Belarusian - Беларуская",bn:"Bengali - বাংলা",bs:"Bosnian - bosanski jezik",bg:"Bulgarian - Български",ca:"Catalan - Català",yue:"Cantonese - 粤语",ceb:"Cebuano - Binisaya",ny:"Chichewa - Chinyanja",zh:"Chinese (Simplified) - 中文(简体)","zh-tw":"Chinese (Traditional) - 中文(漢字)",hr:"Croatian - Hrvatski",cs:"Czech - Čeština",da:"Danish - Dansk",nl:"Dutch - Nederlands",eo:"Esperanto - Esperanto",et:"Estonian - Eesti keel",fi:"Finnish - Suomi",fr:"French - Français",gl:"Galician - Galego",ka:"Georgian - ქართული",de:"German - Deutsch",el:"Greek - Ελληνικά",gu:"Gujarati - ગુજરાતી",ht:"Haitian - Kreyòl ayisyen",ha:"Hausa - Harshen Hausa",hmn:"Hmong - Hmoob",mw:"Hmong Daw - Hmoob Daw",he:"Hebrew - עברית",hi:"Hindi - हिन्दी; हिंदी",hu:"Hungarian - Magyar",is:"Icelandic - Íslenska",ig:"Igbo - Asụsụ Igbo",id:"Indonesian - Bahasa Indonesia",ga:"Irish - Gaeilge",it:"Italian - Italiano",ja:"Japanese - 日本語",jw:"Javanese - basa Jawa",kn:"Kannada - ಕನ್ನಡ",kk:"Kazakh - Қазақ тілі",km:"Khmer - ភាសាខ្មែរ",ko:"Korean - 한국어",ky:"Kirghiz - кыргыз тили",lo:"Lao - ພາສາລາວ",la:"Latin - Latīna",lv:"Latvian - Latviešu valoda",lt:"Lithuanian - Lietuvių kalba",mk:"Macedonian - македонски јазик",mg:"Malagasy - Malagasy fiteny",ms:"Malay - Bahasa Melayu",ml:"Malayalam - മലയാളം",mt:"Maltese - Malti",mi:"Maori - Te Reo Māori",mr:"Marathi - मराठी",mn:"Mongolian - Монгол",my:"Burmese - မြန်မာစာ",ne:"Nepali - नेपाली",no:"Norwegian - Norsk",fa:"Persian - پارسی",pl:"Polish - Polski",pt:"Portuguese - Português",pa:"Punjabi - ਪੰਜਾਬੀ",ro:"Romanian - Română",ru:"Russian - Русский",sr:"Serbian - Cрпски језик",st:"Sesotho - Sesotho",si:"Sinhala - සිංහල",sk:"Slovak - Slovenčina",sl:"Slovene - Slovenščina",so:"Somali - Af-Soomaali",es:"Spanish - Español",su:"Sundanese - Basa Sunda",sw:"Swahili - Kiswahili",sv:"Swedish - Svenska",tl:"Tagalog - Tagalog",tg:"Tajik - Тоҷикӣ",ta:"Tamil - தமிழ்",tt:"Tatar - татарча",te:"Telugu - తెలుగు",th:"Thai - ภาษาไทย",tr:"Turkish - Türkçe",uk:"Ukrainian - Українська",ur:"Urdu - اردو",uz:"Uzbek - Oʻzbek tili",vi:"Vietnamese - Tiếng Việt",cy:"Welsh - Cymraeg",yi:"Yiddish - ייִדיש",yo:"Yoruba - èdè Yorùbá",zu:"Zulu - isiZulu"},d=t_jp.prefix,u="#"+d,n=!1,g="prev",p="next",h="right",b="left",m=39,y=37;function f(t){var a;return"object"==typeof t_jp.l&&(a=t_jp.l[t])?a:t}function v(t,a,i){t=t.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),0===r.trim(a).length&&(a=r("[data-orig='"+t+"']").attr("data-orig"));var n=function(){var t=r(this).attr("id").substr(r(this).attr("id").lastIndexOf("_")+1),a=r(u+"img_"+t);r(u+t).attr("data-source",i),a.removeClass("tr-icon-yellow").removeClass("tr-icon-green"),0==i?a.addClass("tr-icon-green"):i&&a.addClass("tr-icon-yellow")};r("*[data-orig='"+t+"'][data-hidden!='y']").html(a).each(n),r("*[data-orig='"+t+"'][data-hidden='y']").attr("data-trans",a).each(n),r(u+"translation").data("origval",a),r(u+"translation").keyup()}function k(a,t){v(a,t,0),r.ajax({type:"POST",url:t_jp.ajaxurl,data:{action:"tp_translation",ln0:t_jp.lang,sr0:0,items:1,tk0:a,tr0:t},error:function(t){v(a,"",1),alert("Problem saving translation, contact support.\n\nServer's message: "+t.statusText)}})}function x(t){r.ajax({type:"GET",url:t_jp.ajaxurl,dataType:"json",data:{action:"tp_tp",e:t,m:"s",tl:t_jp.lang,sl:r(u+"original").data("srclang"),q:r(u+"original").val()},success:function(t){console.log(t),r(u+"translation").val(r("<div>"+r.trim(t.result)+"</div>").text()).keyup()}})}function j(t){var a,i,n,e;n=(a=r(t).dialog("widget").find(".ui-dialog-title")).css("margin-right"),e=a.css("margin-left"),a.css({float:b,"margin-right":e,"margin-left":n}),n=(i=r(t).dialog("widget").find(".ui-dialog-titlebar-close")).css("right"),e=i.css("left"),i.css({right:e,left:n})}function _(t){r(u+"original").val(r(u+t).attr("data-orig")),r(u+"translation").val(r(u+t).html()),r(u+t).attr("data-trans")&&r(u+"translation").val(r(u+t).attr("data-trans")),r(u+"translation").data("origval",r(u+"translation").val()),r(u+"approve").button("enable"),r(u+"prev").button("enable"),r(u+"next").button("enable"),r(u+(Number(t)-1)).length||r(u+"prev").button("disable"),r(u+(Number(t)+1)).length||r(u+"next").button("disable"),r(u+"oht").removeClass("ui-state-highlight");var a=r(u+t).attr("data-srclang");void 0===a&&(a=t_jp.olang),r(u+"orglang").text(c[a]),r(u+"historydialog").remove(),r(u+"translation").keyup()}function e(e){var t="",a="",i="",n="",o="",s="",l=u+"dialog";t_jp.engines.b&&(t='<button class="'+d+'suggest" id="'+d+'bing">'+f("bing suggest")+"</button>"),t_jp.engines.g&&(a='<button class="'+d+'suggest" id="'+d+'google">'+f("google suggest")+"</button>"),t_jp.engines.a&&(i='<button class="'+d+'suggest" id="'+d+'apertium">'+f("apertium suggest")+"</button>"),t_jp.engines.y&&(o='<button class="'+d+'suggest" id="'+d+'yandex">'+f("yandex suggest")+"</button>"),t_jp.engines.u&&(s='<button class="'+d+'suggest" id="'+d+'baidu">'+f("baidu suggest")+"</button>"),t_jp.engines.o&&(n='<button class="'+d+'suggest" id="'+d+'oht">'+f("One Hour Translate queue")+"</button>"),r(l).remove(),r('<div id="'+d+'dialog" title="'+f("Edit Translation")+'"/>').appendTo("body"),r(l).css("padding","1px").append('<div style="width: 100%"><label for="original">'+f("Original text")+' (<a href="#" title="'+f("read alternate translations")+'" id="'+d+'orglang"></a>)</label><textarea cols="80" row="3" name="original" id="'+d+'original" readonly="y"/><span id="'+d+'utlbar"><button id="'+d+'prev">'+f("previous translation")+'</button><button id="'+d+'zoom">'+f("find on page")+'</button><button id="'+d+'next">'+f("next translation")+'</button></span><label for="translation">'+f("Translate to")+'</label><textarea cols="80" row="3" name="translation" lang="'+t_jp.lang+'"id="'+d+'translation"/><span id="'+d+'ltlbar"><button id="'+d+'history">'+f("view translation log")+'</button><button id="'+d+'keyboard">'+f("virtual keyboard")+"</button>"+a+t+o+s+i+n+'<button id="'+d+'approve">'+f("approve translation")+"</button></span></div>"),r(u+"utlbar,"+u+"ltlbar").css({float:h}).buttonset(),r(l+" textarea").css({width:"483px",padding:".4em",margin:"2px 0 0 0",resize:"vertical"}).addClass("text ui-widget-content ui-corner-all"),r(l+" label").css({display:"block",clear:"both"}),r(u+"orglang").click(function(){return r(u+"langmenu").length?r(u+"langmenu").toggle():t_jp.tfl(function(){r.xLazyLoader({js:[t_jp.plugin_url+"/js/jquery.ui.menu.js"],success:function(){r.ajax({url:t_jp.ajaxurl,data:{action:"tp_trans_alts",token:r(u+e).attr("data-orig")},dataType:"json",cache:!1,success:function(t){var i;(i=r(u+e).attr("data-srclang"))||(i=t_jp.olang);var n='<li data-translated="'+r(u+e).attr("data-orig")+'"><a href="#">'+c[i]+"</a></li>";r(t).each(function(t,a){a.lang!==t_jp.lang&&(n=n+'<li data-translated="'+a.translated+'"><a href="#">'+c[a.lang]+"</a></li>")}),r('<ul style="position: absolute; top: 0px" id="'+d+'langmenu">'+n).appendTo(l),r(u+"langmenu").menu({select:function(t,a){r(this).hide(),r(u+"original").val(a.item.attr("data-translated")),r(u+"orglang").text(a.item.text()).addClass("ui-state-highlight"),c[i]===a.item.text()&&r(u+"orglang").removeClass("ui-state-highlight")},input:r(this)}).show().css({top:0,left:0}).position({my:b+" top",at:b+" bottom",of:r(u+"orglang")})}})}})}),!1}),r(u+"prev").button({icons:{primary:"ui-icon-seek-"+g},text:!1}),r(u+"zoom").button({icons:{primary:"ui-icon-search"},text:!1}),r(u+"next").button({icons:{primary:"ui-icon-seek-"+p},text:!1}),cleanui=function(){r("."+d+"suggest").button("enable")},r(u+"prev").click(cleanui),r(u+"prev").click(function(){if(r(u+"translation").data("changed")){var t=r(u+"translation").val();k(r(u+e).attr("data-orig"),t)}_(e=Number(e)-1)}),r(u+"next").click(cleanui),r(u+"next").click(function(){if(r(u+"translation").data("changed")){var t=r(u+"translation").val();k(r(u+e).attr("data-orig"),t)}_(e=Number(e)+1)}),r(u+"zoom").click(function(){r("html, body").animate({scrollTop:r(u+e).offset().top},500),r(l).dialog("widget").css({top:r(l).dialog("widget").offset().top-window.scrollY,position:"fixed"}),r(u+e).animate({opacity:.1},"slow",function(){r(l).dialog("widget").css({top:r(l).dialog("widget").offset().top,position:"absolute"})}).animate({opacity:1},"slow").animate({opacity:.1},"slow").animate({opacity:1},"slow").animate({opacity:.1},"slow").animate({opacity:1},"slow")}),r(u+"history").button({icons:{primary:"ui-icon-clipboard"},text:!1}).click(function(){var s,l;s=e,r(l=u+"historydialog").remove(),r('<div id="'+d+'historydialog" title="'+f("History")+'">'+f("Loading...")+"</div>").appendTo("body"),r(l).css("padding",0).dialog({width:"450px",show:"slide"}),"rtl"===r("html").attr("dir")&&j(l),r.ajax({url:t_jp.ajaxurl,type:"POST",data:{action:"tp_history",token:r(u+s).attr("data-orig"),lang:t_jp.lang},dataType:"json",cache:!1,success:function(t){var i,n,e,o;r(l).empty().append('<table width="100%"><col style="width: 80%;"><col><col><thead><tr> <th>'+f("Translated")+"</th><th>"+f("By")+"</th><th>"+f("At")+"</th></tr></thead><tbody></tbody></table>"),r.each(t,function(t,a){switch(a.source){case"1":i="tr-icon-google",n=f("google");break;case"2":i="tr-icon-bing",n=f("bing");break;case"3":i="tr-icon-apertium",n=f("apertium");break;case"4":i="tr-icon-yandex",n=f("yandex");break;case"5":i="tr-icon-baidu",n=f("baidu");break;default:i="ui-icon-person",n=f("manual translation")}null===a.user_login&&(a.user_login=a.translated_by),e='<span class="ui-button ui-widget ui-button-icon-only" style="width: 18px; border: 0px; margin-'+h+': 3px"><span title="'+n+'" style="cursor: default" class="ui-button-icon-primary ui-icon '+i+'"></span><span class="ui-button-text" style="display: inline-block; "></span></span>',o=a.can_delete?'<span class="'+d+'delete" title="'+f("delete")+'" style="width: 18px; margin-'+b+': 3px">':"",r(l+" tbody").append("<tr><td>"+a.translated+'</td><td id="'+d+'histby">'+e+a.user_login+'</td><td id="'+d+'histstamp">'+a.timestamp+o+"</td></tr>")}),r(u+"histby,"+u+"histstamp").css("white-space","nowrap"),r(l+" th").addClass("ui-widget-header").css("padding","3px"),r(l+" td").addClass("ui-widget-content").css("padding","3px"),r("."+d+"delete").button({icons:{primary:"ui-icon-circle-close"},text:!1}).click(function(){var a=r(this).parents("tr");r.ajax({url:t_jp.ajaxurl,type:"POST",data:{action:"tp_history",token:r(u+s).attr("data-orig"),timestamp:r(this).parents("tr").children(":last").text(),lang:t_jp.lang},dataType:"json",cache:!1,success:function(t){!1===t?r(a).children().addClass("ui-state-error"):(r(a).empty(),v(r(u+s).attr("data-orig"),t.translated,t.source))}})}),r("."+d+"delete .ui-button-text").css("display","inline-block")}})}),r(u+"keyboard").button({icons:{primary:"ui-icon-calculator"},text:!1}).click(function(){t_jp.tfl(function(){r.xLazyLoader({js:[t_jp.plugin_url+"/js/keyboard.js"],css:[t_jp.plugin_url+"/css/keyboard.css"],success:function(){VKI_attach(r(u+"translation").get(0)),VKI_show(r(u+"translation").get(0))}})})}),r("."+d+"suggest").click(function(){cleanui(),r(this).button("disable")}),r(u+"google").button({icons:{primary:"tr-icon-google"},text:!1}).click(function(){x("g")}),r(u+"bing").button({icons:{primary:"tr-icon-bing"},text:!1}).click(function(){t_jp.dbt([r(u+"original").val()],function(t){r(u+"translation").val(r("<div>"+r.trim(t[0].TranslatedText)+"</div>").text()).keyup()},t_jp.blang)}),r(u+"yandex").button({icons:{primary:"tr-icon-yandex"},text:!1}).click(function(){x("y")}),r(u+"baidu").button({icons:{primary:"tr-icon-baidu"},text:!1}).click(function(){x("u"),r(this).button("disable")}),r(u+"apertium").button({icons:{primary:"tr-icon-apertium"},text:!1}).click(function(){t_jp.dat(r(u+"original").val(),function(t){r(u+"translation").val(r("<div>"+r.trim(t.responseData.translatedText)+"</div>").text()).keyup()},t_jp.lang),r(this).button("disable")}),r(u+"oht").button({icons:{primary:"tr-icon-oht"},text:!1}).click(function(){var a=r(this);r.ajax({url:t_jp.ajaxurl,data:{action:"tp_oht",q:r(u+"original").val(),token:r(u+e).attr("data-orig"),orglang:r(u+e).attr("data-srclang"),lang:t_jp.lang},dataType:"json",cache:!1,success:function(t){t?a.addClass("ui-state-highlight"):a.removeClass("ui-state-highlight")}})}),r(u+"approve").button({icons:{primary:"ui-icon-check"},text:!1}).click(function(){var t=r(u+"translation").val(),a=r(u+e).attr("data-orig");(r(u+"translation").data("changed")||"0"!==r(u+e).attr("data-source"))&&k(a,t)}),r(u+"translation").keyup(function(t){r(this).data("origval")!==r(this).val()?(r(this).addClass("ui-state-highlight"),r(u+"approve").button("enable"),r(this).data("changed",!0)):(r(this).removeClass("ui-state-highlight"),"0"===r(u+e).attr("data-source")&&r(u+"approve").button("disable"),r(this).data("changed",!1))}),_(e),r(l).dialog({resizable:!1,width:500,zIndex:99999}),"rtl"===r("html").attr("dir")&&j(l),r(u+"orglang").blur(),r(l).bind("dialogclose",function(t,a){"function"==typeof VKI_close&&VKI_close(r(u+"translation").get(0)),r(u+"historydialog").remove()}),r(l).keydown(function(t){if(t.ctrlKey)switch(t.keyCode){case y:r(u+"prev").click();break;case m:r(u+"next").click()}}),r(l).bind("dialogbeforeclose",function(t,a){return!r(u+"translation").data("changed")||(function(){var t=u+"confirmdialog";if(r(t).remove(),r('<div id="'+d+'confirmdialog" title="'+f("Close without saving?")+'"><span class="ui-icon ui-icon-alert" style="float:'+b+"; margin-bottom:20px; margin-"+h+':7px"></span><span style="clear:both">'+f("You have made a change to the translation. Are you sure you want to discard it?")+'<span><span id="'+d+'dcbar" style="display:block"><button id="'+d+'cancel">'+f("Cancel")+'</button><button id="'+d+'discard">'+f("Discard")+"</button></span>NaN").appendTo("body").dialog({resizable:!1,modal:!0,minHeight:50,overlay:{backgroundColor:"#000",opacity:.5}}),r(u+"cancel").button({icons:{primary:"ui-icon-closethick"},text:!1}).click(function(){r(t).dialog("close")}),r(u+"discard").button({icons:{primary:"ui-icon-check"},text:!1}).click(function(){r(u+"translation").data("changed",!1),r(t).dialog("close"),r(u+"dialog").dialog("close")}),r(u+"dcbar").css({float:h}).buttonset(),"rtl"===r("html").attr("dir")){j(t);var a="ui-corner-";r(u+"dcbar button:first").addClass(a+b).removeClass(a+h),r(u+"dcbar button:last").addClass(a+h).removeClass(a+b)}}(),!1)})}"rtl"===r("html").attr("dir")&&(h="left",b="right",y=39,m=37,g="next",p="prev"),r("."+d).each(function(t){if(void 0!==r(this).attr("id")){var a,i=r(this).attr("id").substr(r(this).attr("id").lastIndexOf("_")+1);r(this).after('<span id="'+d+"img_"+i+'" class="tr-icon" title="'+r(this).attr("data-orig")+'"></span>'),a=r(u+"img_"+i);a.click(function(){return t_jp.tfju(function(){t_jp.locale&&!n?r.getScript(t_jp.plugin_url+"/js/l/"+t_jp.lang+".js",function(){n=!0,e(i)}):e(i)}),!1}).css({border:"0px",margin:"1px",padding:"0px"}),"0"===r(this).attr("data-source")?a.addClass("tr-icon-green"):r(this).attr("data-source")&&a.addClass("tr-icon-yellow"),"y"===r(this).attr("data-hidden")&&a.css({opacity:"0.6"})}})}(jQuery);
//# sourceMappingURL=transposhedit.js.map
//# sourceURL=/wp-content/plugins/transposh-translation-filter-for-wordpress/js/transposhedit.js