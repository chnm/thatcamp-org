!function(c){var d={en:"English - English",af:"Afrikaans - Afrikaans",sq:"Albanian - Shqip",ar:"Arabic - العربية",hy:"Armenian - Հայերեն",az:"Azerbaijani - azərbaycan dili",eu:"Basque - Euskara",ba:"Bashkir - башҡорт теле",be:"Belarusian - Беларуская",bn:"Bengali - বাংলা",bs:"Bosnian - bosanski jezik",bg:"Bulgarian - Български",ca:"Catalan - Català",yue:"Cantonese - 粤语",ceb:"Cebuano - Binisaya",ny:"Chichewa - Chinyanja",zh:"Chinese (Simplified) - 中文(简体)","zh-tw":"Chinese (Traditional) - 中文(漢字)",hr:"Croatian - Hrvatski",cs:"Czech - Čeština",da:"Danish - Dansk",nl:"Dutch - Nederlands",eo:"Esperanto - Esperanto",et:"Estonian - Eesti keel",fi:"Finnish - Suomi",fr:"French - Français",gl:"Galician - Galego",ka:"Georgian - ქართული",de:"German - Deutsch",el:"Greek - Ελληνικά",gu:"Gujarati - ગુજરાતી",ht:"Haitian - Kreyòl ayisyen",ha:"Hausa - Harshen Hausa",hmn:"Hmong - Hmoob",mw:"Hmong Daw - Hmoob Daw",he:"Hebrew - עברית",hi:"Hindi - हिन्दी; हिंदी",hu:"Hungarian - Magyar",is:"Icelandic - Íslenska",ig:"Igbo - Asụsụ Igbo",id:"Indonesian - Bahasa Indonesia",ga:"Irish - Gaeilge",it:"Italian - Italiano",ja:"Japanese - 日本語",jw:"Javanese - basa Jawa",kn:"Kannada - ಕನ್ನಡ",kk:"Kazakh - Қазақ тілі",km:"Khmer - ភាសាខ្មែរ",ko:"Korean - 한국어",ky:"Kirghiz - кыргыз тили",lo:"Lao - ພາສາລາວ",la:"Latin - Latīna",lv:"Latvian - Latviešu valoda",lt:"Lithuanian - Lietuvių kalba",mk:"Macedonian - македонски јазик",mg:"Malagasy - Malagasy fiteny",ms:"Malay - Bahasa Melayu",ml:"Malayalam - മലയാളം",mt:"Maltese - Malti",mi:"Maori - Te Reo Māori",mr:"Marathi - मराठी",mn:"Mongolian - Монгол",my:"Burmese - မြန်မာစာ",ne:"Nepali - नेपाली",no:"Norwegian - Norsk",fa:"Persian - پارسی",pl:"Polish - Polski",pt:"Portuguese - Português",pa:"Punjabi - ਪੰਜਾਬੀ",ro:"Romanian - Română",ru:"Russian - Русский",sr:"Serbian - Cрпски језик",st:"Sesotho - Sesotho",si:"Sinhala - සිංහල",sk:"Slovak - Slovenčina",sl:"Slovene - Slovenščina",so:"Somali - Af-Soomaali",es:"Spanish - Español",su:"Sundanese - Basa Sunda",sw:"Swahili - Kiswahili",sv:"Swedish - Svenska",tl:"Tagalog - Tagalog",tg:"Tajik - Тоҷикӣ",ta:"Tamil - தமிழ்",tt:"Tatar - татарча",te:"Telugu - తెలుగు",th:"Thai - ภาษาไทย",tr:"Turkish - Türkçe",uk:"Ukrainian - Українська",ur:"Urdu - اردو",uz:"Uzbek - Oʻzbek tili",vi:"Vietnamese - Tiếng Việt",cy:"Welsh - Cymraeg",yi:"Yiddish - ייִדיש",yo:"Yoruba - èdè Yorùbá",zu:"Zulu - isiZulu"},u=t_jp.prefix,g="#"+u,n=!1,p="prev",b="next",h="right",m="left",y=39,f=37;function v(t){var a;return"object"==typeof t_jp.l&&(a=t_jp.l[t])?a:t}function k(t,a,i){t=t.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),0===c.trim(a).length&&(a=c("[data-orig='"+t+"']").attr("data-orig"));var n=function(){var t=c(this).attr("id").substr(c(this).attr("id").lastIndexOf("_")+1),a=c(g+"img_"+t);c(g+t).attr("data-source",i),a.removeClass("tr-icon-yellow").removeClass("tr-icon-green"),0==i?a.addClass("tr-icon-green"):i&&a.addClass("tr-icon-yellow")};c("*[data-orig='"+t+"'][data-hidden!='y']").html(a).each(n),c("*[data-orig='"+t+"'][data-hidden='y']").attr("data-trans",a).each(n),c(g+"translation").data("origval",a),c(g+"translation").keyup()}function x(a,t){k(a,t,0),c.ajax({type:"POST",url:t_jp.ajaxurl,data:{action:"tp_translation",ln0:t_jp.lang,sr0:0,items:1,tk0:a,tr0:t},error:function(t){k(a,"",1),alert("Problem saving translation, contact support.\n\nServer's message: "+t.statusText)}})}function j(t){c.ajax({type:"GET",url:t_jp.ajaxurl,dataType:"json",data:{action:"tp_tp",e:t,m:"s",tl:t_jp.lang,sl:c(g+"original").data("srclang"),q:c(g+"original").val()},success:function(t){console.log(t),c(g+"translation").val(c("<div>"+c.trim(t.result)+"</div>").text()).keyup()}})}function _(t){var a,i,n,e;n=(a=c(t).dialog("widget").find(".ui-dialog-title")).css("margin-right"),e=a.css("margin-left"),a.css({float:m,"margin-right":e,"margin-left":n}),n=(i=c(t).dialog("widget").find(".ui-dialog-titlebar-close")).css("right"),e=i.css("left"),i.css({right:e,left:n})}function w(t){c(g+"original").val(c(g+t).attr("data-orig")),c(g+"translation").val(c(g+t).html()),c(g+t).attr("data-trans")&&c(g+"translation").val(c(g+t).attr("data-trans")),c(g+"translation").data("origval",c(g+"translation").val()),c(g+"approve").button("enable"),c(g+"prev").button("enable"),c(g+"next").button("enable"),c(g+(Number(t)-1)).length||c(g+"prev").button("disable"),c(g+(Number(t)+1)).length||c(g+"next").button("disable"),c(g+"oht").removeClass("ui-state-highlight");var a=c(g+t).attr("data-srclang");void 0===a&&(a=t_jp.olang),c(g+"orglang").text(d[a]),c(g+"historydialog").remove(),c(g+"translation").keyup()}function e(e){var t="",a="",i="",n="",o="",s="",l=g+"dialog";if(t_jp.engines.b&&(t='<button class="'+u+'suggest" id="'+u+'bing">'+v("bing suggest")+"</button>"),t_jp.engines.g&&(a='<button class="'+u+'suggest" id="'+u+'google">'+v("google suggest")+"</button>"),t_jp.engines.a&&(i='<button class="'+u+'suggest" id="'+u+'apertium">'+v("apertium suggest")+"</button>"),t_jp.engines.y&&(o='<button class="'+u+'suggest" id="'+u+'yandex">'+v("yandex suggest")+"</button>"),t_jp.engines.u&&(s='<button class="'+u+'suggest" id="'+u+'baidu">'+v("baidu suggest")+"</button>"),t_jp.engines.o&&(n='<button class="'+u+'suggest" id="'+u+'oht">'+v("One Hour Translate queue")+"</button>"),c(l).remove(),c('<div id="'+u+'dialog" title="'+v("Edit Translation")+'"/>').appendTo("body"),c(l).css("padding","1px").append('<div style="width: 100%"><label for="original">'+v("Original text")+' (<a href="#" title="'+v("read alternate translations")+'" id="'+u+'orglang"></a>)</label><textarea cols="80" row="3" name="original" id="'+u+'original" readonly="y"/><span id="'+u+'utlbar"><button id="'+u+'prev">'+v("previous translation")+'</button><button id="'+u+'zoom">'+v("find on page")+'</button><button id="'+u+'next">'+v("next translation")+'</button></span><label for="translation">'+v("Translate to")+'</label><textarea cols="80" row="3" name="translation" lang="'+t_jp.lang+'"id="'+u+'translation"/><span id="'+u+'ltlbar"><button id="'+u+'history">'+v("view translation log")+'</button><button id="'+u+'keyboard">'+v("virtual keyboard")+"</button>"+a+t+o+s+i+n+'<button id="'+u+'approve">'+v("approve translation")+"</button></span></div>"),"function"==typeof c().controlgroup){c(g+"utlbar,"+g+"ltlbar").css({float:h}).controlgroup();var r="ui-corner-";c(g+"utlbar button:first,"+g+"ltlbar button:first").addClass(r+m).removeClass(r+h),c(g+"utlbar button:last,"+g+"ltlbar button:last").addClass(r+h).removeClass(r+m),c(g+"utlbar button,"+g+"ltlbar button").css("float",m)}else c(g+"utlbar,"+g+"ltlbar").css({float:h}).buttonset();c(l+" textarea").css({width:"483px",padding:".4em",margin:"2px 0 0 0",resize:"vertical"}).addClass("text ui-widget-content ui-corner-all"),c(l+" label").css({display:"block",clear:"both"}),c(g+"orglang").click(function(){return c(g+"langmenu").length?c(g+"langmenu").toggle():t_jp.tfl(function(){c.xLazyLoader({js:[t_jp.plugin_url+"/js/jquery.ui.menu.js"],success:function(){c.ajax({url:t_jp.ajaxurl,data:{action:"tp_trans_alts",token:c(g+e).attr("data-orig")},dataType:"json",cache:!1,success:function(t){var i;(i=c(g+e).attr("data-srclang"))||(i=t_jp.olang);var n='<li data-translated="'+c(g+e).attr("data-orig")+'"><a href="#">'+d[i]+"</a></li>";c(t).each(function(t,a){a.lang!==t_jp.lang&&(n=n+'<li data-translated="'+a.translated+'"><a href="#">'+d[a.lang]+"</a></li>")}),c('<ul style="position: absolute; top: 0px" id="'+u+'langmenu">'+n).appendTo(l),c(g+"langmenu").menu({select:function(t,a){c(this).hide(),c(g+"original").val(a.item.attr("data-translated")),c(g+"orglang").text(a.item.text()).addClass("ui-state-highlight"),d[i]===a.item.text()&&c(g+"orglang").removeClass("ui-state-highlight")},input:c(this)}).show().css({top:0,left:0}).position({my:m+" top",at:m+" bottom",of:c(g+"orglang")})}})}})}),!1}),c(g+"prev").button({icons:{primary:"ui-icon-seek-"+p},text:!1}),c(g+"zoom").button({icons:{primary:"ui-icon-search"},text:!1}),c(g+"next").button({icons:{primary:"ui-icon-seek-"+b},text:!1}),cleanui=function(){c("."+u+"suggest").button("enable")},c(g+"prev").click(cleanui),c(g+"prev").click(function(){if(c(g+"translation").data("changed")){var t=c(g+"translation").val();x(c(g+e).attr("data-orig"),t)}w(e=Number(e)-1)}),c(g+"next").click(cleanui),c(g+"next").click(function(){if(c(g+"translation").data("changed")){var t=c(g+"translation").val();x(c(g+e).attr("data-orig"),t)}w(e=Number(e)+1)}),c(g+"zoom").click(function(){c("html, body").animate({scrollTop:c(g+e).offset().top},500),c(l).dialog("widget").css({top:c(l).dialog("widget").offset().top-window.scrollY,position:"fixed"}),c(g+e).animate({opacity:.1},"slow",function(){c(l).dialog("widget").css({top:c(l).dialog("widget").offset().top,position:"absolute"})}).animate({opacity:1},"slow").animate({opacity:.1},"slow").animate({opacity:1},"slow").animate({opacity:.1},"slow").animate({opacity:1},"slow")}),c(g+"history").button({icons:{primary:"ui-icon-clipboard"},text:!1}).click(function(){var s,l;s=e,c(l=g+"historydialog").remove(),c('<div id="'+u+'historydialog" title="'+v("History")+'">'+v("Loading...")+"</div>").appendTo("body"),c(l).css("padding",0).dialog({width:"450px",show:"slide"}),"rtl"===c("html").attr("dir")&&_(l),c.ajax({url:t_jp.ajaxurl,type:"POST",data:{action:"tp_history",token:c(g+s).attr("data-orig"),lang:t_jp.lang},dataType:"json",cache:!1,success:function(t){var i,n,e,o;c(l).empty().append('<table width="100%"><col style="width: 80%;"><col><col><thead><tr> <th>'+v("Translated")+"</th><th>"+v("By")+"</th><th>"+v("At")+"</th></tr></thead><tbody></tbody></table>"),c.each(t,function(t,a){switch(a.source){case"1":i="tr-icon-google",n=v("google");break;case"2":i="tr-icon-bing",n=v("bing");break;case"3":i="tr-icon-apertium",n=v("apertium");break;case"4":i="tr-icon-yandex",n=v("yandex");break;case"5":i="tr-icon-baidu",n=v("baidu");break;default:i="ui-icon-person",n=v("manual translation")}null===a.user_login&&(a.user_login=a.translated_by),e='<span class="ui-button ui-widget ui-button-icon-only" style="width: 18px; border: 0px; margin-'+h+': 3px"><span title="'+n+'" style="cursor: default" class="ui-button-icon-primary ui-icon '+i+'"></span><span class="ui-button-text" style="display:inline-block;"></span></span>',o=a.can_delete?'<span class="'+u+'delete" title="'+v("delete")+'" style="width: 18px; margin-'+m+': 3px">':"",c(l+" tbody").append("<tr><td>"+a.translated+'</td><td id="'+u+'histby">'+e+a.user_login+'</td><td id="'+u+'histstamp">'+a.timestamp+o+"</td></tr>")}),c(g+"histby,"+g+"histstamp").css("white-space","nowrap"),c(l+" th").addClass("ui-widget-header").css("padding","3px"),c(l+" td").addClass("ui-widget-content").css("padding","3px"),c("."+u+"delete").button({icons:{primary:"ui-icon-circle-close"},text:!1}).click(function(){var a=c(this).parents("tr");c.ajax({url:t_jp.ajaxurl,type:"POST",data:{action:"tp_history",token:c(g+s).attr("data-orig"),timestamp:c(this).parents("tr").children(":last").text(),lang:t_jp.lang},dataType:"json",cache:!1,success:function(t){!1===t?c(a).children().addClass("ui-state-error"):(c(a).empty(),k(c(g+s).attr("data-orig"),t.translated,t.source))}})}),c("."+u+"delete .ui-button-text").css("display","inline-block")}})}),c(g+"keyboard").button({icons:{primary:"ui-icon-calculator"},text:!1}).click(function(){t_jp.tfl(function(){c.xLazyLoader({js:[t_jp.plugin_url+"/js/keyboard.js"],css:[t_jp.plugin_url+"/css/keyboard.css"],success:function(){VKI_attach(c(g+"translation").get(0)),VKI_show(c(g+"translation").get(0))}})})}),c("."+u+"suggest").click(function(){cleanui(),c(this).button("disable")}),c(g+"google").button({icons:{primary:"tr-icon-google"},text:!1}).click(function(){j("g")}),c(g+"bing").button({icons:{primary:"tr-icon-bing"},text:!1}).click(function(){t_jp.dbt([c(g+"original").val()],function(t){c(g+"translation").val(c("<div>"+c.trim(t[0].TranslatedText)+"</div>").text()).keyup()},t_jp.blang)}),c(g+"yandex").button({icons:{primary:"tr-icon-yandex"},text:!1}).click(function(){j("y")}),c(g+"baidu").button({icons:{primary:"tr-icon-baidu"},text:!1}).click(function(){j("u"),c(this).button("disable")}),c(g+"apertium").button({icons:{primary:"tr-icon-apertium"},text:!1}).click(function(){t_jp.dat(c(g+"original").val(),function(t){c(g+"translation").val(c("<div>"+c.trim(t.responseData.translatedText)+"</div>").text()).keyup()},t_jp.lang),c(this).button("disable")}),c(g+"oht").button({icons:{primary:"tr-icon-oht"},text:!1}).click(function(){var a=c(this);c.ajax({url:t_jp.ajaxurl,data:{action:"tp_oht",q:c(g+"original").val(),token:c(g+e).attr("data-orig"),orglang:c(g+e).attr("data-srclang"),lang:t_jp.lang},dataType:"json",cache:!1,success:function(t){t?a.addClass("ui-state-highlight"):a.removeClass("ui-state-highlight")}})}),c(g+"approve").button({icons:{primary:"ui-icon-check"},text:!1}).click(function(){var t=c(g+"translation").val(),a=c(g+e).attr("data-orig");(c(g+"translation").data("changed")||"0"!==c(g+e).attr("data-source"))&&x(a,t)}),c(g+"translation").keyup(function(t){c(this).data("origval")!==c(this).val()?(c(this).addClass("ui-state-highlight"),c(g+"approve").button("enable"),c(this).data("changed",!0)):(c(this).removeClass("ui-state-highlight"),"0"===c(g+e).attr("data-source")&&c(g+"approve").button("disable"),c(this).data("changed",!1))}),w(e),c(l).dialog({resizable:!1,width:500,zIndex:99999}),"rtl"===c("html").attr("dir")&&_(l),c(g+"orglang").blur(),c(l).bind("dialogclose",function(t,a){"function"==typeof VKI_close&&VKI_close(c(g+"translation").get(0)),c(g+"historydialog").remove()}),c(l).keydown(function(t){if(t.ctrlKey)switch(t.keyCode){case f:c(g+"prev").click();break;case y:c(g+"next").click()}}),c(l).bind("dialogbeforeclose",function(t,a){return!c(g+"translation").data("changed")||(function(){var t=g+"confirmdialog";if(c(t).remove(),c('<div id="'+u+'confirmdialog" title="'+v("Close without saving?")+'"><span class="ui-icon ui-icon-alert" style="float:'+m+"; margin-bottom:20px; margin-"+h+':7px"></span><span style="clear:both">'+v("You have made a change to the translation. Are you sure you want to discard it?")+'<span><span id="'+u+'dcbar" style="display:block"><button id="'+u+'cancel">'+v("Cancel")+'</button><button id="'+u+'discard">'+v("Discard")+"</button></span>NaN").appendTo("body").dialog({resizable:!1,modal:!0,minHeight:50,overlay:{backgroundColor:"#000",opacity:.5}}),c(g+"cancel").button({icons:{primary:"ui-icon-closethick"},text:!1}).click(function(){c(t).dialog("close")}),c(g+"discard").button({icons:{primary:"ui-icon-check"},text:!1}).click(function(){c(g+"translation").data("changed",!1),c(t).dialog("close"),c(g+"dialog").dialog("close")}),"function"==typeof c().controlgroup?(c(g+"dcbar").css({float:h}).controlgroup(),c(g+"dcbar button").css("float",m)):c(g+"dcbar").css({float:h}).buttonset(),"rtl"===c("html").attr("dir")){_(t);var a="ui-corner-";c(g+"dcbar button:first").addClass(a+m).removeClass(a+h),c(g+"dcbar button:last").addClass(a+h).removeClass(a+m)}}(),!1)})}"rtl"===c("html").attr("dir")&&(h="left",m="right",f=39,y=37,p="next",b="prev"),c("."+u).each(function(t){if(void 0!==c(this).attr("id")){var a,i=c(this).attr("id").substr(c(this).attr("id").lastIndexOf("_")+1);c(this).after('<span id="'+u+"img_"+i+'" class="tr-icon" title="'+c(this).attr("data-orig")+'"></span>'),a=c(g+"img_"+i);a.click(function(){return t_jp.tfju(function(){t_jp.locale&&!n?c.getScript(t_jp.plugin_url+"/js/l/"+t_jp.lang+".js",function(){n=!0,e(i)}):e(i)}),!1}).css({border:"0px",margin:"1px",padding:"0px"}),"0"===c(this).attr("data-source")?a.addClass("tr-icon-green"):c(this).attr("data-source")&&a.addClass("tr-icon-yellow"),"y"===c(this).attr("data-hidden")&&a.css({opacity:"0.6"})}})}(jQuery);
//# sourceMappingURL=transposhedit.js.map
//# sourceURL=/wp-content/plugins/transposh-translation-filter-for-wordpress/js/transposhedit.js