{"version":3,"sources":["transposhedit.js"],"names":["$","l","en","af","sq","ar","hy","az","eu","ba","be","bn","bs","bg","ca","yue","ceb","ny","zh","zh-tw","hr","cs","da","nl","eo","et","fi","fr","gl","ka","de","el","gu","ht","ha","hmn","mw","he","hi","hu","is","ig","id","ga","it","ja","jw","kn","kk","km","ko","ky","lo","la","lv","lt","mk","mg","ms","ml","mt","mi","mr","mn","my","ne","no","fa","pl","pt","pa","ro","ru","sr","st","si","sk","sl","so","es","su","sw","sv","tl","tg","ta","tt","te","th","tr","uk","ur","uz","vi","cy","yi","yo","zu","prefix","t_jp","idprefix","localeloaded","previcon","nexticon","right","left","rkey","lkey","__","str","s","fix_page_human","token","translation","source","replace","trim","length","attr","fix_image","img_segment_id","this","substr","lastIndexOf","img","removeClass","addClass","html","each","data","keyup","ajax_translate_human","ajax","type","url","ajaxurl","action","ln0","lang","sr0","items","tk0","tr0","error","req","alert","statusText","getproxiedsuggestion","engine","dataType","e","m","q","val","success","result","console","log","text","fix_dialog_header_rtl","dialog","uit","uitc","valr","vall","find","css","float","margin-right","margin-left","set_translate_dialog_values","segment_id","button","Number","segmentlang","undefined","olang","remove","translate_dialog","bingbutton","googlebutton","apertiumbutton","ohtbutton","yandexbutton","baidubutton","engines","b","g","a","y","u","o","appendTo","append","buttonset","width","padding","margin","resize","display","clear","click","toggle","tfl","xLazyLoader","js","plugin_url","cache","itemlang","liflag","index","item","translated","menu","select","event","ui","hide","input","show","top","position","at","of","icons","primary","cleanui","animate","scrollTop","offset","window","scrollY","opacity","icon","icontitle","iconline","delline","empty","row","user_login","translated_by","can_delete","timestamp","parents","children","VKI_attach","get","VKI_show","dbt","TranslatedText","blang","dat","responseData","translatedText","orglang","resizable","zIndex","blur","bind","VKI_close","keydown","ctrlKey","keyCode","modal","minHeight","overlay","backgroundColor","uicorner","confirm_close","i","translated_id","after","tfju","locale","getScript","border","jQuery"],"mappings":"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","sourcesContent":["/*  Copyright © 2009-2018 Transposh Team (website : http://transposh.org)\n *\n *\tThis program is free software; you can redistribute it and/or modify\n *\tit under the terms of the GNU General Public License as published by\n *\tthe Free Software Foundation; either version 2 of the License, or\n *\t(at your option) any later version.\n *\n *\tThis program is distributed in the hope that it will be useful,\n *\tbut WITHOUT ANY WARRANTY; without even the implied warranty of\n *\tMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\tGNU General Public License for more details.\n *\n *\tYou should have received a copy of the GNU General Public License\n *\talong with this program; if not, write to the Free Software\n *\tFoundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n */\n\n/*global Date, Math, alert, escape, clearTimeout, document, jQuery, setTimeout, t_jp, t_jl, window, VKI_attach, VKI_show, VKI_close */\n(function ($) { // closure\n    // list of languages\n    var l = {\n        'en': 'English - English',\n        'af': 'Afrikaans - Afrikaans',\n        'sq': 'Albanian - Shqip',\n        'ar': 'Arabic - العربية',\n        'hy': 'Armenian - Հայերեն',\n        'az': 'Azerbaijani - azərbaycan dili',\n        'eu': 'Basque - Euskara',\n        'ba': 'Bashkir - башҡорт теле',\n        'be': 'Belarusian - Беларуская',\n        'bn': 'Bengali - বাংলা',\n        'bs': 'Bosnian - bosanski jezik',\n        'bg': 'Bulgarian - Български',\n        'ca': 'Catalan - Català',\n        'yue': 'Cantonese - 粤语',\n        'ceb': 'Cebuano - Binisaya',\n        'ny': 'Chichewa - Chinyanja',\n        'zh': 'Chinese (Simplified) - 中文(简体)',\n        'zh-tw': 'Chinese (Traditional) - 中文(漢字)',\n        'hr': 'Croatian - Hrvatski',\n        'cs': 'Czech - Čeština',\n        'da': 'Danish - Dansk',\n        'nl': 'Dutch - Nederlands',\n        'eo': 'Esperanto - Esperanto',\n        'et': 'Estonian - Eesti keel',\n        'fi': 'Finnish - Suomi',\n        'fr': 'French - Français',\n        'gl': 'Galician - Galego',\n        'ka': 'Georgian - ქართული',\n        'de': 'German - Deutsch',\n        'el': 'Greek - Ελληνικά',\n        'gu': 'Gujarati - ગુજરાતી',\n        'ht': 'Haitian - Kreyòl ayisyen',\n        'ha': 'Hausa - Harshen Hausa',\n        'hmn': 'Hmong - Hmoob',\n        'mw': 'Hmong Daw - Hmoob Daw',\n        'he': 'Hebrew - עברית',\n        'hi': 'Hindi - हिन्दी; हिंदी',\n        'hu': 'Hungarian - Magyar',\n        'is': 'Icelandic - Íslenska',\n        'ig': 'Igbo - Asụsụ Igbo',\n        'id': 'Indonesian - Bahasa Indonesia',\n        'ga': 'Irish - Gaeilge',\n        'it': 'Italian - Italiano',\n        'ja': 'Japanese - 日本語',\n        'jw': 'Javanese - basa Jawa',\n        'kn': 'Kannada - ಕನ್ನಡ',\n        'kk': 'Kazakh - Қазақ тілі',\n        'km': 'Khmer - ភាសាខ្មែរ',\n        'ko': 'Korean - 한국어',\n        'ky': 'Kirghiz - кыргыз тили',\n        'lo': 'Lao - ພາສາລາວ',\n        'la': 'Latin - Latīna',\n        'lv': 'Latvian - Latviešu valoda',\n        'lt': 'Lithuanian - Lietuvių kalba',\n        'mk': 'Macedonian - македонски јазик',\n        'mg': 'Malagasy - Malagasy fiteny',\n        'ms': 'Malay - Bahasa Melayu',\n        'ml': 'Malayalam - മലയാളം',\n        'mt': 'Maltese - Malti',\n        'mi': 'Maori - Te Reo Māori',\n        'mr': 'Marathi - मराठी',\n        'mn': 'Mongolian - Монгол',\n        'my': 'Burmese - မြန်မာစာ',\n        'ne': 'Nepali - नेपाली',\n        'no': 'Norwegian - Norsk',\n        'fa': 'Persian - پارسی',\n        'pl': 'Polish - Polski',\n        'pt': 'Portuguese - Português',\n        'pa': 'Punjabi - ਪੰਜਾਬੀ',\n        'ro': 'Romanian - Română',\n        'ru': 'Russian - Русский',\n        'sr': 'Serbian - Cрпски језик',\n        'st': 'Sesotho - Sesotho',\n        'si': 'Sinhala - සිංහල',\n        'sk': 'Slovak - Slovenčina',\n        'sl': 'Slovene - Slovenščina',\n        'so': 'Somali - Af-Soomaali',\n        'es': 'Spanish - Español',\n        'su': 'Sundanese - Basa Sunda',\n        'sw': 'Swahili - Kiswahili',\n        'sv': 'Swedish - Svenska',\n        'tl': 'Tagalog - Tagalog',\n        'tg': 'Tajik - Тоҷикӣ',\n        'ta': 'Tamil - தமிழ்',\n        'tt': 'Tatar - татарча',\n        'te': 'Telugu - తెలుగు',\n        'th': 'Thai - ภาษาไทย',\n        'tr': 'Turkish - Türkçe',\n        'uk': 'Ukrainian - Українська',\n        'ur': 'Urdu - اردو',\n        'uz': 'Uzbek - Oʻzbek tili',\n        'vi': 'Vietnamese - Tiếng Việt',\n        'cy': 'Welsh - Cymraeg',\n        'yi': 'Yiddish - ייִדיש',\n        'yo': 'Yoruba - èdè Yorùbá',\n        'zu': 'Zulu - isiZulu'\n    },\n    prefix = t_jp.prefix,\n            idprefix = \"#\" + prefix,\n            localeloaded = false,\n            previcon = 'prev',\n            nexticon = 'next',\n            right = 'right',\n            left = 'left',\n            rkey = 39,\n            lkey = 37;\n\n    // fix rtl stuff\n    if ($(\"html\").attr(\"dir\") === 'rtl') {\n        right = 'left';\n        left = 'right';\n        lkey = 39;\n        rkey = 37;\n        previcon = 'next';\n        nexticon = 'prev';\n    }\n\n    // translation function\n    function __(str) {\n        var s;\n        if (typeof (t_jp.l) === 'object' && (s = t_jp.l[str]))\n            return s;\n        return str;\n    }\n\n\n    function fix_page_human(token, translation, source) {\n        //reset to the original content - the unescaped version if translation is empty\n        // TODO!\n        token = token.replace(/([;&,\\.\\+\\*\\~':\"\\!\\^#$%@\\[\\]\\(\\)=>\\|])/g, '\\\\$1');\n        if ($.trim(translation).length === 0) {\n            translation = $(\"[data-orig='\" + token + \"']\").attr('data-orig');\n        }\n\n        var fix_image = function () { // handle the image changes\n            var img_segment_id = $(this).attr('id').substr($(this).attr('id').lastIndexOf('_') + 1),\n                    img = $(idprefix + \"img_\" + img_segment_id);\n            $(idprefix + img_segment_id).attr('data-source', source); // source is 0 human\n            img.removeClass('tr-icon-yellow').removeClass('tr-icon-green')\n            if (source == 0) {\n                img.addClass('tr-icon-green');\n            } else if (source) {\n                img.addClass('tr-icon-yellow');\n            }\n        };\n        // rewrite text for all matching items at once\n        $(\"*[data-orig='\" + token + \"'][data-hidden!='y']\")\n                .html(translation)\n                .each(fix_image);\n\n        // FIX hidden elements too (need to update father's title)\n        $(\"*[data-orig='\" + token + \"'][data-hidden='y']\")\n                .attr('data-trans', translation)\n                .each(fix_image);\n\n        // fix interface by issue of keyup, and make sure the data holds proper original\n        $(idprefix + \"translation\").data('origval', translation);\n        $(idprefix + \"translation\").keyup();\n\n    }\n\n    // here we don't need the timer, this is human based\n    function ajax_translate_human(token, translation) {\n        // push translations\n        // This is a change - as we fix the pages before we got actual confirmation (worked well for auto-translation)\n        fix_page_human(token, translation, 0);\n        $.ajax({\n            type: \"POST\",\n            url: t_jp.ajaxurl, // FIX!\n            data: {\n                action: 'tp_translation',\n                ln0: t_jp.lang,\n                sr0: 0, // implicit human\n                items: 1,\n                tk0: token,\n                tr0: translation\n            },\n            error: function (req) {\n                fix_page_human(token, '', 1); // Will turn things back, almost\n                alert(\"Problem saving translation, contact support.\\n\\nServer's message: \" + req.statusText);\n            }\n        });\n    }\n\n    function getproxiedsuggestion(engine) {\n        $.ajax({\n            type: \"GET\",\n            url: t_jp.ajaxurl,\n            dataType: \"json\",\n            data: {\n                action: 'tp_tp',\n                e: engine,\n                m: 's', // suggest mode\n                tl: t_jp.lang,\n                sl: $(idprefix + \"original\").data('srclang'),\n                q: $(idprefix + \"original\").val()\n            },\n            success: function (result) {\n                console.log(result);\n                $(idprefix + \"translation\").val($(\"<div>\" + $.trim(result.result) + \"</div>\").text())\n                        .keyup();\n            }\n        });\n\n    }\n\n    // fetch translation from google translate...\n    function getgt()\n    {\n\n        getproxiedsuggestion('g');\n\n    }\n\n    // fetch translation from yandex translate...\n    function getyt()\n    {\n        getproxiedsuggestion('y');\n    }\n\n    // fetch translation from baidu translate...\n    function getut()\n    {\n        getproxiedsuggestion('u');\n    }\n\n\n    // fetch translation from bing translate...\n    function getbt()\n    {\n        t_jp.dbt([$(idprefix + \"original\").val()], function (result) {\n            $(idprefix + \"translation\").val($(\"<div>\" + $.trim(result[0].TranslatedText) + \"</div>\").text())\n                    .keyup();\n        }, t_jp.blang);\n    }\n\n    // fetch translation from apertium translate...\n    function getat()\n    {\n        t_jp.dat($(idprefix + \"original\").val(), function (result) {\n            $(idprefix + \"translation\").val($(\"<div>\" + $.trim(result.responseData.translatedText) + \"</div>\").text())\n                    .keyup();\n        }, t_jp.lang);\n    }\n\n    // switch position of text and close button in ui-dialog for rtl\n    function fix_dialog_header_rtl(dialog) {\n        var uit, uitc, valr, vall;\n        uit = $(dialog).dialog(\"widget\").find('.ui-dialog-title');\n        valr = uit.css('margin-right');\n        vall = uit.css('margin-left');\n        uit.css({\n            'float': left,\n            'margin-right': vall,\n            'margin-left': valr\n        });\n        uitc = $(dialog).dialog(\"widget\").find('.ui-dialog-titlebar-close');\n        valr = uitc.css('right');\n        vall = uitc.css('left');\n        uitc.css({\n            right: vall,\n            left: valr\n        });\n    }\n\n    function confirm_close() {\n        var dialog = idprefix + \"confirmdialog\";\n        $(dialog).remove();\n        $('<div id=\"' + prefix + 'confirmdialog\" title=\"' + __('Close without saving?') +\n                '\"><span class=\"ui-icon ui-icon-alert\" style=\"float:' + left + '; margin-bottom:20px; margin-' + right + ':7px\"></span>' +\n                '<span style=\"clear:both\">' +\n                __('You have made a change to the translation. Are you sure you want to discard it?') +\n                '<span><span id=\"' + prefix + 'dcbar\" style=\"display:block\">' +\n                '<button id=\"' + prefix + 'cancel\">' + __('Cancel') + '</button>' +\n                '<button id=\"' + prefix + 'discard\">' + __('Discard') + '</button>' +\n                '</span>' +\n                +'</div>').appendTo(\"body\").dialog({\n            resizable: false,\n            modal: true,\n            minHeight: 50,\n            overlay: {\n                backgroundColor: '#000',\n                opacity: 0.5\n            }\n        });\n\n        $(idprefix + 'cancel').button({\n            icons: {\n                primary: \"ui-icon-closethick\"\n            },\n            text: false\n        }).click(function () {\n            $(dialog).dialog('close');\n        });\n\n        $(idprefix + 'discard').button({\n            icons: {\n                primary: \"ui-icon-check\"\n            },\n            text: false\n        }).click(function () {\n            $(idprefix + \"translation\").data('changed', false);\n            $(dialog).dialog('close');\n            $(idprefix + \"dialog\").dialog('close');\n        });\n\n        // toolbars should float...\n        $(idprefix + 'dcbar').css({\n            'float': right\n        }).buttonset();\n        // rtl fix for buttonsets\n        if ($(\"html\").attr(\"dir\") === 'rtl') {\n            fix_dialog_header_rtl(dialog);\n            var uicorner = 'ui-corner-';\n            $(idprefix + 'dcbar button:first').addClass(uicorner + left).removeClass(uicorner + right);\n            $(idprefix + 'dcbar button:last').addClass(uicorner + right).removeClass(uicorner + left);\n        }\n    }\n\n    function history_dialog(segment_id) {\n        var dialog = idprefix + \"historydialog\";\n\n        $(dialog).remove();\n\n        $('<div id=\"' + prefix + 'historydialog\" title=\"' + __('History') + '\">' + __('Loading...') + '</div>').appendTo(\"body\");\n        $(dialog).css('padding', 0).dialog({\n            width: '450px',\n            // dialogClass: 'ui-widget-shadow',\n            show: 'slide'//,\n        });\n        if ($(\"html\").attr(\"dir\") === 'rtl') {\n            fix_dialog_header_rtl(dialog);\n        }\n        $.ajax({\n            url: t_jp.ajaxurl,\n            type: \"POST\",\n            data: {\n                action: 'tp_history',\n                token: $(idprefix + segment_id).attr('data-orig'),\n                lang: t_jp.lang\n            },\n            dataType: \"json\",\n            cache: false,\n            success: function (data) {\n                var icon, icontitle, iconline, delline;\n                $(dialog).empty().append(\n                        '<table width=\"100%\">' +\n                        '<col style=\"width: 80%;\">' +\n                        '<col>' +\n                        '<col>' +\n                        '<thead>' +\n                        '<tr> ' +\n                        '<th>' + __('Translated') + '</th><th>' + __('By') + '</th><th>' + __('At') + '</th>' +\n                        '</tr>' +\n                        '</thead>' +\n                        '<tbody>' +\n                        '</tbody>' +\n                        '</table>');\n                $.each(data, function (index, row) {\n                    switch (row.source)\n                    {\n                        case '1':\n                            icon = 'tr-icon-google';\n                            icontitle = __('google');\n                            break;\n                        case '2':\n                            icon = 'tr-icon-bing';\n                            icontitle = __('bing');\n                            break;\n                        case '3':\n                            icon = 'tr-icon-apertium';\n                            icontitle = __('apertium');\n                            break;\n                        case '4':\n                            icon = 'tr-icon-yandex';\n                            icontitle = __('yandex');\n                            break;\n                        case '5':\n                            icon = 'tr-icon-baidu';\n                            icontitle = __('baidu');\n                            break;\n                        default:\n                            icon = 'ui-icon-person';\n                            icontitle = __('manual translation');\n                    }\n                    if (row.user_login === null) {\n                        row.user_login = row.translated_by;\n                    }\n                    iconline = '<span class=\"ui-button ui-widget ui-button-icon-only\" style=\"width: 18px; border: 0px; margin-' + right + ': 3px\"><span title=\"' + icontitle + '\" style=\"cursor: default\" class=\"ui-button-icon-primary ui-icon ' + icon + '\"></span><span class=\"ui-button-text\" style=\"display: inline-block; \"></span></span>'\n                    if (row.can_delete) {\n                        delline = '<span class=\"' + prefix + 'delete\" title=\"' + __('delete') + '\" style=\"width: 18px; margin-' + left + ': 3px\">';\n                    } else {\n                        delline = '';\n                    }\n                    $(dialog + \" tbody\").append('<tr><td>' + row.translated + '</td><td id=\"' + prefix + 'histby\">' + iconline + row.user_login + '</td><td id=\"' + prefix + 'histstamp\">' + row.timestamp + delline + '</td></tr>');\n                });\n                $(idprefix + \"histby,\" + idprefix + \"histstamp\").css('white-space', 'nowrap');\n                $(dialog + \" th\").addClass('ui-widget-header').css('padding', '3px');\n                $(dialog + \" td\").addClass('ui-widget-content').css('padding', '3px');\n                $(\".\" + prefix + \"delete\").button({\n                    icons: {\n                        primary: \"ui-icon-circle-close\"\n                    },\n                    text: false\n                }).click(function () {\n                    var row = $(this).parents('tr');\n                    $.ajax({\n                        url: t_jp.ajaxurl,\n                        type: \"POST\",\n                        data: {\n                            action: 'tp_history',\n                            token: $(idprefix + segment_id).attr('data-orig'),\n                            timestamp: $(this).parents('tr').children(\":last\").text(),\n                            lang: t_jp.lang\n                        },\n                        dataType: \"json\",\n                        cache: false,\n                        success: function (data) {\n                            if (data === false) {\n                                $(row).children().addClass('ui-state-error');\n                            } else {\n                                $(row).empty();\n                                fix_page_human($(idprefix + segment_id).attr('data-orig'), data.translated, data.source);\n                            }\n                        }\n                    });\n                });\n                $(\".\" + prefix + \"delete .ui-button-text\").css('display', 'inline-block');\n            }\n        });\n\n    }\n\n    /*    function getBetweenSegments(segment_id) \n     {\n     var firstSegment = prefix + segment_id;\n     var next_segment_id = prefix + (Number(segment_id) + 1);\n     //alert (firstSegment + \" - \" + next_segment_id);\n     //var secondSegment = $(idprefix + next_segment_id);\n     var seg = \"\"; // Collection of Elements\n     var seenMyself = false;\n     $(idprefix + segment_id).parent().contents().each(function(){\n     var siblingID  = $(this).attr(\"id\"); // Get Sibling ID\n     //alert (\"this = \" + this + \" \" + siblingID);\n     // End on next segment\n     if (!seenMyself)\n     {\n     if (siblingID == firstSegment)\n     seenMyself = true;\n     return true;\n     }\n     else if (siblingID == next_segment_id) {\n     return false;\n     }\n     \n     if ( this.nodeType == 3 || $.nodeName(this, \"br\") ) \n     {\n     seg += this.textContent;\n     //alert(\"Sibling - \" + this.textContent);\n     }\n     // Skip SPANs (probably the edit buttons\n     if ($(this).is(\"span\"))\n     {\n     return true;\n     }\n     return true;\n     //collection.push($(this)); // Add Sibling to Collection\n     });\n     return seg; // Return Collection\n     }\n     \n     function add_segment(segment_id)\n     {\n     var seg = getBetweenSegments(Number(segment_id)-1);\n     //alert (\"seg = \" + seg);\n     //return;\n     // the field values\n     $(idprefix + \"original\").val($(idprefix + \"original\").val() + seg + $(idprefix + segment_id).attr('data-orig'));\n     $(idprefix + \"translation\").val($(idprefix + \"translation\").val() + seg + $(idprefix + segment_id).html());\n     \n     if ($(idprefix + segment_id).attr('data-trans')) {\n     $(idprefix + \"translation\").val($(idprefix + segment_id).attr('data-trans'));\n     }\n     // init data vars\n     $(idprefix + \"translation\").data(\"origval\", $(idprefix + \"translation\").val());\n     \n     // need to set approve button to enabled by default\n     $(idprefix + 'approve').button(\"enable\");\n     \n     // make sure the next and prev buttons are in order\n     $(idprefix + 'prev').button(\"enable\");\n     $(idprefix + 'next').button(\"enable\");\n     if (!$(idprefix + (Number(segment_id) - 1)).length) {\n     $(idprefix + 'prev').button(\"disable\");\n     }\n     if (!$(idprefix + (Number(segment_id) + 1)).length) {\n     $(idprefix + 'next').button(\"disable\");\n     }\n     \n     // set the original language part\n     var segmentlang = $(idprefix + segment_id).attr('data-srclang');\n     if (segmentlang === undefined ) {\n     segmentlang = t_jp.olang;\n     }\n     $(idprefix + \"orglang\").text(l[segmentlang]);\n     // old history is history\n     $(idprefix+'historydialog').remove();\n     // This line makes sure that the approval button is correct on creation\n     // at the end of the chain, a keyup event will make sure everything is ok\n     $(idprefix + \"translation\").keyup();\n     }\n     */\n    // load data to translate dialog\n    function set_translate_dialog_values(segment_id) {\n        // the field values\n        $(idprefix + \"original\").val($(idprefix + segment_id).attr('data-orig'));\n        $(idprefix + \"translation\").val($(idprefix + segment_id).html());\n\n        if ($(idprefix + segment_id).attr('data-trans')) {\n            $(idprefix + \"translation\").val($(idprefix + segment_id).attr('data-trans'));\n        }\n        // init data vars\n        $(idprefix + \"translation\").data(\"origval\", $(idprefix + \"translation\").val());\n\n        // need to set approve button to enabled by default\n        $(idprefix + 'approve').button(\"enable\");\n\n        // make sure the next and prev buttons are in order\n        $(idprefix + 'prev').button(\"enable\");\n        $(idprefix + 'next').button(\"enable\");\n        if (!$(idprefix + (Number(segment_id) - 1)).length) {\n            $(idprefix + 'prev').button(\"disable\");\n        }\n        if (!$(idprefix + (Number(segment_id) + 1)).length) {\n            $(idprefix + 'next').button(\"disable\");\n        }\n\n        // oht should not be highlighted\n        $(idprefix + 'oht').removeClass('ui-state-highlight');\n\n        // set the original language part\n        var segmentlang = $(idprefix + segment_id).attr('data-srclang');\n        if (segmentlang === undefined) {\n            segmentlang = t_jp.olang;\n        }\n        $(idprefix + \"orglang\").text(l[segmentlang]);\n        // old history is history\n        $(idprefix + 'historydialog').remove();\n        // This line makes sure that the approval button is correct on creation\n        // at the end of the chain, a keyup event will make sure everything is ok\n        $(idprefix + \"translation\").keyup();\n\n\n    }\n\n    //Open translation dialog\n    function translate_dialog(segment_id) {\n        //only add button is bing support is defined for the language\n        var bingbutton = '', googlebutton = '', apertiumbutton = '', ohtbutton = '', yandexbutton = '', baidubutton = '', dialog = idprefix + \"dialog\";\n\n        // Only add buttons if translation engine is supported in said language\n        if (t_jp.engines.b) {\n            bingbutton = '<button class=\"' + prefix + 'suggest\" id=\"' + prefix + 'bing\">' + __('bing suggest') + '</button>';\n        }\n        if (t_jp.engines.g) {\n            googlebutton = '<button class=\"' + prefix + 'suggest\" id=\"' + prefix + 'google\">' + __('google suggest') + '</button>';\n        }\n        if (t_jp.engines.a) {\n            apertiumbutton = '<button class=\"' + prefix + 'suggest\" id=\"' + prefix + 'apertium\">' + __('apertium suggest') + '</button>';\n        }\n        if (t_jp.engines.y) {\n            yandexbutton = '<button class=\"' + prefix + 'suggest\" id=\"' + prefix + 'yandex\">' + __('yandex suggest') + '</button>';\n        }\n        if (t_jp.engines.u) {\n            baidubutton = '<button class=\"' + prefix + 'suggest\" id=\"' + prefix + 'baidu\">' + __('baidu suggest') + '</button>';\n        }\n        if (t_jp.engines.o) {\n            ohtbutton = '<button class=\"' + prefix + 'suggest\" id=\"' + prefix + 'oht\">' + __('One Hour Translate queue') + '</button>';\n        }\n\n        // this is our current way of cleaning up, might reconsider?\n        $(dialog).remove();\n        $('<div id=\"' + prefix + 'dialog\" title=\"' + __('Edit Translation') + '\"/>').appendTo(\"body\");\n\n        $(dialog).css(\"padding\", \"1px\").append(\n                '<div style=\"width: 100%\">' +\n                '<label for=\"original\">' + __('Original text') + ' (<a href=\"#\" title=\"' + __('read alternate translations') + '\" id=\"' + prefix + 'orglang\"></a>)' + '</label>' +\n                '<textarea cols=\"80\" row=\"3\" name=\"original\" id=\"' + prefix + 'original\" readonly=\"y\"/>' +\n                '<span id=\"' + prefix + 'utlbar\">' +\n                '<button id=\"' + prefix + 'prev\">' + __('previous translation') + '</button>' +\n                '<button id=\"' + prefix + 'zoom\">' + __('find on page') + '</button>' +\n                /*            '<button id=\"' + prefix + 'add\">'+__('add next phrase')+'</button>' +*/\n                '<button id=\"' + prefix + 'next\">' + __('next translation') + '</button>' +\n                '</span>' +\n                '<label for=\"translation\">' + __('Translate to') + '</label>' +\n                '<textarea cols=\"80\" row=\"3\" name=\"translation\" lang=\"' + t_jp.lang + '\"id=\"' + prefix + 'translation\"/>' +\n                '<span id=\"' + prefix + 'ltlbar\">' +\n                '<button id=\"' + prefix + 'history\">' + __('view translation log') + '</button>' +\n                '<button id=\"' + prefix + 'keyboard\">' + __('virtual keyboard') + '</button>' +\n                googlebutton +\n                bingbutton +\n                yandexbutton +\n                baidubutton +\n                apertiumbutton +\n                ohtbutton +\n                '<button id=\"' + prefix + 'approve\">' + __('approve translation') + '</button>' +\n                '</span>' +\n                '</div>'\n                );\n\n        // toolbars should float...\n        $(idprefix + 'utlbar,' + idprefix + 'ltlbar').css({\n            'float': right\n        }).buttonset();\n        // css for textareas\n        $(dialog + ' textarea').css({\n            'width': '483px',\n            'padding': '.4em',\n            'margin': '2px 0 0 0',\n            'resize': 'vertical' // this is for chrome and firefox\n        }).addClass('text ui-widget-content ui-corner-all');\n\n        // make sure buttons don't interfere with labels\n        $(dialog + ' label').css({\n            'display': 'block',\n            'clear': 'both'\n        });\n\n        // buttonize\n        $(idprefix + 'orglang').click(function () {\n            if ($(idprefix + \"langmenu\").length) {\n                $(idprefix + \"langmenu\").toggle();\n            } else {\n                // We will show languages that have a human translation on the server\n                t_jp.tfl(function () {\n                    $.xLazyLoader({\n                        js: [t_jp.plugin_url + '/js/jquery.ui.menu.js'],\n                        success: function () {\n                            $.ajax({\n                                url: t_jp.ajaxurl,\n                                data: {\n                                    action: 'tp_trans_alts',\n                                    token: $(idprefix + segment_id).attr('data-orig')\n                                },\n                                dataType: \"json\",\n                                cache: false,\n                                success: function (data) {\n                                    var itemlang\n                                    if (!(itemlang = $(idprefix + segment_id).attr('data-srclang'))) {\n                                        itemlang = t_jp.olang;\n                                    }\n                                    var liflag = '<li data-translated=\"' + $(idprefix + segment_id).attr('data-orig') + '\"><a href=\"#\">' + l[itemlang] + '</a></li>'\n                                    $(data).each(function (index, item) {\n                                        if (item.lang !== t_jp.lang) {\n                                            liflag = liflag + '<li data-translated=\"' + item.translated + '\"><a href=\"#\">' + l[item.lang] + '</a></li>'\n                                        }\n                                    });\n                                    $('<ul style=\"position: absolute; top: 0px\" id=\"' + prefix + 'langmenu\">' + liflag).appendTo(dialog);\n\n                                    $(idprefix + \"langmenu\").menu({\n                                        select: function (event, ui) {\n                                            $(this).hide();\n                                            $(idprefix + \"original\").val(ui.item.attr('data-translated'));\n                                            $(idprefix + \"orglang\").text(ui.item.text()).addClass('ui-state-highlight');\n                                            if (l[itemlang] === ui.item.text()) {\n                                                $(idprefix + \"orglang\").removeClass('ui-state-highlight');\n                                            }\n                                        },\n                                        input: $(this)\n                                    }).show().css({\n                                        top: 0,\n                                        left: 0\n                                    }).position({\n                                        my: left + ' top',\n                                        at: left + ' bottom',\n                                        of: $(idprefix + 'orglang')\n                                    });\n                                }\n                            });\n                        }\n                    });\n                });\n            }\n            return false;\n        });\n\n        $(idprefix + 'prev').button({\n            icons: {\n                primary: \"ui-icon-seek-\" + previcon\n            },\n            text: false\n        });\n        $(idprefix + 'zoom').button({\n            icons: {\n                primary: \"ui-icon-search\"\n            },\n            text: false\n        });\n        $(idprefix + 'next').button({\n            icons: {\n                primary: \"ui-icon-seek-\" + nexticon\n            },\n            text: false\n        });\n\n        cleanui = function() {\n            $('.' + prefix + 'suggest').button(\"enable\");\n        }\n        // prev button click\n        $(idprefix + 'prev').click(cleanui);\n        $(idprefix + 'prev').click(function () {\n            // save data if changed\n            if ($(idprefix + 'translation').data(\"changed\")) {\n                var translation = $(idprefix + 'translation').val(),\n                        token = $(idprefix + segment_id).attr('data-orig');\n                ajax_translate_human(token, translation);\n            }\n            // dec counter, reload fields\n            segment_id = Number(segment_id) - 1;\n            set_translate_dialog_values(segment_id);\n        });\n        // next button click\n        $(idprefix + 'next').click(cleanui);\n        $(idprefix + 'next').click(function () {\n            // save data if changed\n            if ($(idprefix + 'translation').data(\"changed\")) {\n                var translation = $(idprefix + 'translation').val(),\n                        token = $(idprefix + segment_id).attr('data-orig');\n                ajax_translate_human(token, translation);\n            }\n            // inc counterm reload fields\n            segment_id = Number(segment_id) + 1;\n            set_translate_dialog_values(segment_id);\n        });\n        /*        // add button click\n         $(idprefix + 'add').click(function () {\n         // save data if changed\n         if ($(idprefix + 'translation').data(\"changed\")) {\n         var translation = $(idprefix + 'translation').val(),\n         token = $(idprefix + segment_id).attr('data-orig');\n         ajax_translate_human(token, translation);\n         }\n         // inc counterm reload fields\n         segment_id = Number(segment_id) + 1;\n         add_segment(segment_id);\n         });*/\n\n        // zoom button click\n        $(idprefix + 'zoom').click(function () {\n            $('html, body').animate({\n                scrollTop: $(idprefix + segment_id).offset().top\n            }, 500);\n            // fix dialog to screen while scrolling\n            $(dialog).dialog('widget').css({\n                'top': $(dialog).dialog(\"widget\").offset().top - window.scrollY,\n                'position': 'fixed'\n            });\n            // animate the scroll (3 blinks)\n            $(idprefix + segment_id).animate({\n                opacity: 0.1\n            }, \"slow\", function () {\n                //make it absolute again\n                $(dialog).dialog('widget').css({\n                    'top': $(dialog).dialog(\"widget\").offset().top,\n                    'position': 'absolute'\n                });\n            }).animate({\n                opacity: 1\n            }, \"slow\").animate({\n                opacity: 0.1\n            }, \"slow\").animate({\n                opacity: 1\n            }, \"slow\").animate({\n                opacity: 0.1\n            }, \"slow\").animate({\n                opacity: 1\n            }, \"slow\");\n        });\n\n        $(idprefix + 'history').button({\n            icons: {\n                primary: \"ui-icon-clipboard\"\n            },\n            text: false\n        }).click(function () {\n            history_dialog(segment_id)\n        });\n\n        $(idprefix + 'keyboard').button({\n            icons: {\n                primary: \"ui-icon-calculator\"\n            },\n            text: false\n        }).click(function () {\n            t_jp.tfl(function () {\n                $.xLazyLoader({\n                    js: [t_jp.plugin_url + '/js/keyboard.js'],\n                    css: [t_jp.plugin_url + '/css/keyboard.css'],\n                    success: function () {\n                        VKI_attach($(idprefix + \"translation\").get(0));\n                        VKI_show($(idprefix + \"translation\").get(0));\n                    }\n                });\n            });\n        });\n        // all the suggest buttons\n        $('.'+prefix+\"suggest\").click(function() {\n            cleanui();\n            $(this).button(\"disable\");\n        });\n        $(idprefix + 'google').button({\n            icons: {\n                primary: \"tr-icon-google\"\n            },\n            text: false\n        }).click(function () {\n            getgt();\n        });\n\n        $(idprefix + 'bing').button({\n            icons: {\n                primary: \"tr-icon-bing\"\n            },\n            text: false\n        }).click(function () {\n            getbt();\n        });\n\n        $(idprefix + 'yandex').button({\n            icons: {\n                primary: \"tr-icon-yandex\"\n            },\n            text: false\n        }).click(function () {\n            getyt();\n        });\n\n        $(idprefix + 'baidu').button({\n            icons: {\n                primary: \"tr-icon-baidu\"\n            },\n            text: false\n        }).click(function () {\n            getut();\n            $(this).button(\"disable\");\n        });\n\n        $(idprefix + 'apertium').button({\n            icons: {\n                primary: \"tr-icon-apertium\"\n            },\n            text: false\n        }).click(function () {\n            getat();\n            $(this).button(\"disable\");\n        });\n\n        $(idprefix + 'oht').button({\n            icons: {\n                primary: \"tr-icon-oht\"\n            },\n            text: false\n        }).click(function () {\n            var b = $(this);\n            $.ajax({\n                url: t_jp.ajaxurl,\n                data: {\n                    action: 'tp_oht',\n                    q: $(idprefix + \"original\").val(),\n                    token: $(idprefix + segment_id).attr('data-orig'),\n                    orglang: $(idprefix + segment_id).attr('data-srclang'),\n                    lang: t_jp.lang\n                },\n                dataType: \"json\",\n                cache: false,\n                success: function (result) {\n                    if (result) {\n                        b.addClass('ui-state-highlight');\n                    } else {\n                        b.removeClass('ui-state-highlight');\n                    }\n                }\n            });\n        });\n\n        // approval button\n        $(idprefix + 'approve').button({\n            icons: {\n                primary: \"ui-icon-check\"\n            },\n            text: false\n        }).click(function () {\n            var translation = $(idprefix + 'translation').val(),\n                    token = $(idprefix + segment_id).attr('data-orig');\n            // we allow approval on computer generated translations too\n            if ($(idprefix + 'translation').data(\"changed\") || $(idprefix + segment_id).attr('data-source') !== \"0\") {\n                ajax_translate_human(token, translation);\n                // at the end of the chain, a keyup event will make sure everything is ok\n            }\n        });\n\n        $(idprefix + \"translation\").keyup(function (e) {\n            if ($(this).data(\"origval\") !== $(this).val()) {\n                $(this).addClass(\"ui-state-highlight\");\n                $(idprefix + 'approve').button(\"enable\");\n                $(this).data(\"changed\", true);\n            } else {\n                $(this).removeClass(\"ui-state-highlight\");\n                if ($(idprefix + segment_id).attr('data-source') === \"0\") {\n                    $(idprefix + 'approve').button(\"disable\");\n                }\n                $(this).data(\"changed\", false);\n            }\n        });\n        // load field values\n        set_translate_dialog_values(segment_id);\n\n        // time to create the dialog\n        $(dialog).dialog({\n            resizable: false,\n            width: 500,\n            zIndex: 99999//,\n        });\n\n        // rtl fix for buttonsets, dialog\n        if ($(\"html\").attr(\"dir\") === 'rtl') {\n            fix_dialog_header_rtl(dialog);\n        }\n\n        // we don't need no focus, we don't need element control\n        $(idprefix + 'orglang').blur();\n\n        // remove virtual keyboard and history on close\n        $(dialog).bind(\"dialogclose\", function (event, ui) {\n            if (typeof VKI_close === 'function') {\n                VKI_close($(idprefix + \"translation\").get(0));\n            }\n            $(idprefix + 'historydialog').remove();\n        });\n\n        // we allow to goto next/prev with ctrl-key\n        $(dialog).keydown(function (event) {\n            if (event.ctrlKey) {\n                switch (event.keyCode) {\n                    case lkey:\n                        $(idprefix + 'prev').click();\n                        break;\n                    case rkey:\n                        $(idprefix + 'next').click();\n                        break;\n                }\n            }\n        })\n\n        // show confirmation dialog before closing\n        $(dialog).bind('dialogbeforeclose', function (event, ui) {\n            if ($(idprefix + \"translation\").data(\"changed\")) {\n                confirm_close();\n                return false;\n            }\n            return true;\n        });\n\n    }\n\n    // lets add the images\n    $(\".\" + prefix).each(function (i) {\n        if (typeof $(this).attr('id') === 'undefined')\n            return; // who let the dogs out?? (who killed my id)\n        var translated_id = $(this).attr('id').substr($(this).attr('id').lastIndexOf('_') + 1), img;\n        $(this).after('<span id=\"' + prefix + 'img_' + translated_id + '\" class=\"tr-icon\" title=\"' + $(this).attr('data-orig') + '\"></span>');\n        img = $(idprefix + 'img_' + translated_id);\n        // internal function used to load locale in two needed cases (where we load jQueryui and not...)\n        var loadlocaleandrundialog = function () {\n            if (t_jp.locale && !localeloaded) {\n                $.getScript(t_jp.plugin_url + '/js/l/' + t_jp.lang + '.js', function () {\n                    localeloaded = true;\n                    translate_dialog(translated_id);\n                });\n            } else {\n                translate_dialog(translated_id);\n            }\n        }\n        img.click(function () {\n            //  if we detect that $.ui is missing (TODO - check tabs - etal) we load it first, the added or solves a jquery tools conflict !!!!!!!!!!!\n            t_jp.tfju(function () {\n                loadlocaleandrundialog();\n            })\n            return false;\n        }).css({\n            'border': '0px',\n            'margin': '1px',\n            'padding': '0px'\n        });\n        if ($(this).attr('data-source') === '0') {\n            img.addClass('tr-icon-green');\n        }\n        else if ($(this).attr('data-source')) {\n            img.addClass('tr-icon-yellow');\n        }\n        // if the image is sourced from a hidden element - kindly \"show\" this\n        if ($(this).attr('data-hidden') === 'y') {\n            img.css({\n                'opacity': '0.6'\n            });\n        }\n    });\n}(jQuery)); // end of closure"]}